<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>REdle</title>
<style>
body {
  font-family: Arial, sans-serif;
  text-align: center;
  background-color: #121212;
  color: #eee;
  margin: 0;
  padding: 0;
}

h1 {
  margin-top: 20px;
  color: #f44336;
}

#game {
  margin-top: 20px;
}

input[type="text"] {
  padding: 10px;
  width: 200px;
}

button {
  padding: 10px 20px;
  margin-left: 10px;
  cursor: pointer;
}

#results {
  margin-top: 20px;
}

.table {
  display: inline-block;
  margin-top: 20px;
  border-collapse: collapse;
}

.table th, .table td {
  border: 1px solid #555;
  padding: 8px 12px;
}

.correct { color: #4caf50; }
.partial { color: #03a9f4; }
.incorrect { color: #f44336; }

#legend {
  margin-top: 30px;
  text-align: left;
  width: 300px;
  margin-left: auto;
  margin-right: auto;
  background: #222;
  padding: 10px;
  border-radius: 8px;
}

#legend h3 { cursor: pointer; margin: 0; }
#legend-content { display: none; margin-top: 10px; }
</style>
</head>
<body>
<h1>REdle</h1>
<div id="game">
  <input id="guessInput" type="text" placeholder="Type a character...">
  <button id="guessButton">Guess</button>
  <div id="results"></div>
  <button id="playAgain" style="display:none; margin-top:20px;">Play Again</button>
</div>
<div id="legend">
  <h3 onclick="toggleLegend()">Legend (click to expand/collapse)</h3>
  <div id="legend-content">
    <p>✅ — Fully playable main character</p>
    <p>🔷 — Playable briefly / special segment</p>
    <p>❌ — Not playable</p>
    <p>✔️ — Correct</p>
    <p>❌ — Incorrect</p>
    <p>🟠 — Close</p>
  </div>
</div>
<script>
const characters = [
  { name: "Chris Redfield", debut: "Resident Evil", playable: "✅", faction: "S.T.A.R.S.", gender: "Male" },
  { name: "Jill Valentine", debut: "Resident Evil", playable: "✅", faction: "S.T.A.R.S.", gender: "Female" },
  { name: "Barry Burton", debut: "Resident Evil", playable: "❌", faction: "S.T.A.R.S.", gender: "Male" },
  { name: "Rebecca Chambers", debut: "Resident Evil", playable: "🔷", faction: "S.T.A.R.S.", gender: "Female" },
  { name: "Albert Wesker", debut: "Resident Evil", playable: "❌", faction: "Umbrella", gender: "Male" },
  { name: "Brad Vickers", debut: "Resident Evil", playable: "❌", faction: "S.T.A.R.S.", gender: "Male" },
  { name: "Leon Kennedy", debut: "Resident Evil 2", playable: "✅", faction: "Civilian", gender: "Male" },
  { name: "Claire Redfield", debut: "Resident Evil 2", playable: "✅", faction: "Civilian", gender: "Female" },
  { name: "Ada Wong", debut: "Resident Evil 2", playable: "🔷", faction: "Independent", gender: "Female" },
  { name: "Robert Kendo", debut: "Resident Evil 2", playable: "❌", faction: "Civilian", gender: "Male" },
  { name: "Ben Bertolucci", debut: "Resident Evil 2", playable: "❌", faction: "Civilian", gender: "Male" },
  { name: "Annette Birkin", debut: "Resident Evil 2", playable: "❌", faction: "Umbrella", gender: "Female" },
  { name: "William Birkin", debut: "Resident Evil 2", playable: "❌", faction: "Umbrella", gender: "Male" },
  { name: "Marvin Branagh", debut: "Resident Evil 2", playable: "❌", faction: "Civilian", gender: "Male" },
  { name: "Carlos Oliveira", debut: "Resident Evil 3", playable: "✅", faction: "U.B.C.S.", gender: "Male" },
  { name: "Nicholai Ginovaef", debut: "Resident Evil 3", playable: "❌", faction: "U.B.C.S.", gender: "Male" },
  { name: "Mikhail Victor", debut: "Resident Evil 3", playable: "❌", faction: "U.B.C.S.", gender: "Male" }
];

let currentCharacter;

function pickCharacter() {
  let newChar;
  do {
    newChar = characters[Math.floor(Math.random() * characters.length)];
  } while (newChar === currentCharacter);
  currentCharacter = newChar;
}

function displayResults(guess) {
  const resultDiv = document.getElementById('results');
  resultDiv.innerHTML = '';

  const table = document.createElement('table');
  table.className = 'table';

  table.innerHTML = `
    <tr><th>Name</th><th>Debut</th><th>Playable</th><th>Faction</th><th>Gender</th></tr>
  `;

  const row = document.createElement('tr');

  row.innerHTML = `
    <td>${currentCharacter.name}</td>
    <td>${check(currentCharacter.debut, guess.debut)}</td>
    <td>${check(currentCharacter.playable, guess.playable)}</td>
    <td>${check(currentCharacter.faction, guess.faction)}</td>
    <td>${check(currentCharacter.gender, guess.gender)}</td>
  `;

  table.appendChild(row);
  resultDiv.appendChild(table);
}

function check(actual, guessVal) {
  if (actual === guessVal) return `<span class="correct">✔️</span>`;
  else return `<span class="incorrect">❌</span>`;
}

function guessCharacter() {
  const input = document.getElementById('guessInput').value.trim().toLowerCase();
  const guess = characters.find(c => c.name.toLowerCase() === input || c.name.toLowerCase().split(" ").some(part => part === input));

  if (!guess) {
    alert("Character not found. Try again.");
    return;
  }

  if (guess.name === currentCharacter.name) {
    displayResults(guess);
    document.getElementById('guessInput').disabled = true;
    document.getElementById('guessButton').disabled = true;
    document.getElementById('playAgain').style.display = 'inline-block';
  } else {
    displayResults(guess);
  }
}

function resetGame() {
  document.getElementById('results').innerHTML = '';
  document.getElementById('guessInput').value = '';
  document.getElementById('guessInput').disabled = false;
  document.getElementById('guessButton').disabled = false;
  document.getElementById('playAgain').style.display = 'none';
  pickCharacter();
}

function toggleLegend() {
  const content = document.getElementById('legend-content');
  content.style.display = (content.style.display === 'none' || content.style.display === '') ? 'block' : 'none';
}

document.getElementById('guessButton').addEventListener('click', guessCharacter);
document.getElementById('playAgain').addEventListener('click', resetGame);
document.getElementById('guessInput').addEventListener('keypress', function(e) {
  if (e.key === 'Enter') guessCharacter();
});

pickCharacter();
</script>
</body>
</html>
